# 智慧交通监控与调度平台 - 前端项目

## 项目简介

这是智慧交通监控与调度平台的前端项目，基于 Vue 3、Element Plus 和百度地图API开发，旨在提供地铁口流量预测与共享单车智能投放管理的可视化界面。

## 技术栈

- **核心框架**：Vue 3（采用 Composition API）
- **构建工具**：Vite
- **状态管理**：Pinia
- **UI组件库**：Element Plus
- **地图引擎**：百度地图 GL JS API
- **图表库**：Apache ECharts
- **HTTP客户端**：Axios
- **CSS预处理器**：SCSS

## 开发指南

### 环境准备

1. 首先，确保已安装Node.js (v14.18.0+, v16.0.0+)

2. 安装依赖并启动项目

```bash
# 进入项目目录
cd frontend

# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

3. 开发服务器启动后，通常会在 http://localhost:5173 上运行

### 注意事项

在正式部署前，请确保：

1. 替换百度地图API的开发者密钥(AK)
2. 配置正确的后端API地址
3. 根据实际数据格式调整相关代码

### 目录结构

```
frontend/
├── public/            # 静态资源目录
├── src/               # 源代码目录
│   ├── api/           # API接口
│   ├── assets/        # 资源文件(图片、样式等)
│   │   ├── icons/     # 图标文件
│   ├── components/    # 组件
│   │   ├── charts/    # 图表组件
│   │   ├── common/    # 通用组件
│   │   ├── layout/    # 布局组件
│   ├── router/        # 路由配置
│   ├── stores/        # Pinia状态管理
│   ├── views/         # 页面视图
│   ├── App.vue        # 根组件
│   └── main.js        # 入口文件
├── index.html         # HTML模板
├── vite.config.js     # Vite配置
└── package.json       # 项目依赖
```

## 已实现功能模块

- **仪表盘页面**：展示地图、站点和共享单车分布
  - 地图交互：点击站点显示详情，显示100m覆盖范围
  - 站点信息面板：展示流量预测和共享单车供需情况
  - 预警信息系统：基于供需比自动预警

- **调度方案页面**：查看和执行调度方案
  - 方案列表：查看所有调度计划
  - 路径可视化：在地图上展示调度路径
  - 方案执行：提交调度方案执行

- **数据可视化**：
  - 流量预测图表：展示未来时段的流量预测
  - 共享单车热力图：直观展示单车分布密度
  - 供需比分析：计算并展示供需平衡状态

- **时间模拟器**：模拟不同时间点的数据变化

## 团队分工建议

| 成员 | 负责模块 |
| ---- | -------- |
| 前端开发者1 | 地图交互、共享单车热力图、调度路径展示 |
| 前端开发者2 | 站点信息面板、数据图表、时间控制器 |

## 后端API接口说明

系统预期的后端API接口有：

1. **地铁站点数据**
   - `GET /api/stations` - 获取所有地铁站点基本信息

2. **流量预测数据**
   - `GET /api/traffic/predict/{stationId}` - 获取指定站点的流量预测
   - `GET /api/traffic/historical/{stationId}` - 获取指定站点的历史流量数据

3. **共享单车数据**
   - `GET /api/bikes/near-station/{stationId}` - 获取站点周边的共享单车分布
   - `GET /api/bikes/status/{stationId}` - 获取站点周边共享单车供需状态

4. **调度相关**
   - `GET /api/dispatch/target?sourceId={stationId}` - 获取最优调度目标站点
   - `GET /api/dispatch/plan?from={fromId}&to={toId}` - 获取调度路径规划
   - `POST /api/dispatch/execute/{planId}` - 执行调度方案

5. **WebSocket接口**
   - `ws://host/ws/alerts` - 接收实时预警推送

## 后续开发建议

1. **与后端集成**：
   - 对接真实API，替换模拟数据
   - 实现WebSocket实时通信

2. **功能增强**：
   - 添加用户登录与权限控制
   - 增加历史数据分析页面
   - 完善调度方案管理功能

3. **性能优化**：
   - 地图组件懒加载
   - 数据缓存策略
   - 大数据量渲染优化

## 问题排查

如果遇到以下问题，请尝试以下解决方案：

1. **地图无法加载**
   - 检查百度地图API Key是否正确
   - 确认网络连接正常

2. **数据无法显示**
   - 检查浏览器控制台是否有API错误
   - 确认后端服务是否运行正常

3. **样式问题**
   - 检查是否正确安装了Element Plus
   - 查看浏览器开发者工具中的样式计算 