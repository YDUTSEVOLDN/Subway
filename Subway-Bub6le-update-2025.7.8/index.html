<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>智慧交通监控与调度平台</title>
    
    <!-- 从本地存储加载高德地图API密钥 -->
    <script>
      window.loadAMapAPI = function() {
        var apiKey = '47c701bf0774428f904221ceed78d042'; // 使用您提供的高德地图API密钥
        
        // 动态加载高德地图API，加载更多插件和元素
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = 'https://webapi.amap.com/maps?v=2.0&key=' + apiKey + 
                     '&plugin=AMap.Scale,AMap.ToolBar,AMap.MapType,AMap.Geolocation,AMap.Marker,AMap.Autocomplete,AMap.PlaceSearch,AMap.DistrictSearch,AMap.Traffic,AMap.HeatMap,AMap.PolyEditor';
        document.head.appendChild(script);
        
        // 加载UI库
        var uiScript = document.createElement('script');
        uiScript.type = 'text/javascript';
        uiScript.src = 'https://webapi.amap.com/ui/1.1/main.js?v=1.1.1';
        document.head.appendChild(uiScript);
        
        console.log('高德地图API和UI库加载中...');
      };
      
      // 页面加载完成后加载地图API
      window.loadAMapAPI();
    </script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
